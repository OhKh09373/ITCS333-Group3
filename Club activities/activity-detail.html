<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Activity Details</title>
  <link href="club.css" rel="stylesheet">
</head>
<body>
  <header>
    <a href="club.html"><img class="logo" src="logo.JPG" alt="Campus Hub Logo" /></a>
  </header>

  <main class="content">
    <section id="activity-detail">
      <!-- Activity details will be shown here -->
    </section>
  </main>

  <footer>
    <p>&copy; 2025 Campus Hub</p>
  </footer>

  <script>
    async function loadActivityDetail() {
      const params = new URLSearchParams(window.location.search);
      const title = params.get('title');
      const detailSection = document.getElementById('activity-detail');

      if (!title) {
        detailSection.innerHTML = "<p>Invalid activity selected.</p>";
        return;
      }

      try {
        const response = await fetch('activities.json'); // Local JSON file!
        if (!response.ok) {
          throw new Error("Network error");
        }
        const activities = await response.json();
        const activity = activities.find(act => act.title === decodeURIComponent(title));

        if (!activity) {
          detailSection.innerHTML = "<p>Activity not found.</p>";
          return;
        }

        detailSection.innerHTML = `
          <h1>${activity.title}</h1>
          <p><strong>Club:</strong> ${activity.club}</p>
          <p><strong>Category:</strong> ${activity.category}</p>
          <p><strong>Date:</strong> ${activity.date}</p>
          <p>${activity.description}</p>
          <a href="club.html" class="secondary">‚Üê Back to Activities</a>
        `;
      } catch (error) {
        console.error("Error loading activity details:", error);
        detailSection.innerHTML = "<p style='color:red;'>Failed to load activity details.</p>";
      }
    }

    loadActivityDetail();
  </script>
</body>
</html>